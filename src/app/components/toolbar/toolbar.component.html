<div class="toolbar">
  <div class="toolbar-section">
    <div class="data-selector">
      <label for="topology-select">Network Topology:</label>
      <select id="topology-select" [(ngModel)]="selectedTopology" class="topology-select">
        <optgroup label="Basic Networks">
          <option value="mock-graph-data">Enterprise Network (12 nodes)</option>
          <option value="small-office-network">Small Office Network (13 nodes)</option>
          <option value="home-office-network">Home Office Network (17 nodes)</option>
        </optgroup>
        <optgroup label="Enterprise & Service Provider">
          <option value="data-center-network">Data Center Network (20 nodes)</option>
          <option value="campus-network">Campus Network (21 nodes)</option>
          <option value="isp-core-network">ISP Core Network (20 nodes)</option>
        </optgroup>
        <optgroup label="Complex Production Networks">
          <option value="hybrid-cloud-network">Hybrid Cloud Network (25 nodes)</option>
          <option value="financial-trading-network">Financial Trading Network (29 nodes)</option>
          <option value="manufacturing-ics-network">Manufacturing ICS Network (29 nodes)</option>
          <option value="healthcare-network">Healthcare Network (40 nodes)</option>
          <option value="5g-mobile-core-network">5G Mobile Core Network (37 nodes)</option>
        </optgroup>
      </select>
      <button type="button" class="toolbar-btn primary" (click)="loadMockData()" [disabled]="loading$ | async" title="Load selected topology">
        <span class="icon">ğŸ“Š</span>
        <span class="label">Load</span>
      </button>
    </div>
  </div>

  <div class="toolbar-divider"></div>

  <div class="toolbar-section">
    <button type="button" class="toolbar-btn" (click)="applyLayout()" [disabled]="loading$ | async" title="Auto Layout">
      <span class="icon">ğŸ”„</span>
    </button>
    <button type="button" class="toolbar-btn" (click)="rerouteEdges()" [disabled]="loading$ | async" title="Re-route Edges">
      <span class="icon">â†”ï¸</span>
    </button>
    <button type="button" class="toolbar-btn" (click)="resetView()" [disabled]="loading$ | async" title="Reset View">
      <span class="icon">âŠ¡</span>
    </button>
    <button type="button" class="toolbar-btn" (click)="toggleFilters()" [disabled]="loading$ | async" [title]="filterVisible() ? 'Hide Filters' : 'Show Filters'">
      <span class="icon">ğŸ”</span>
    </button>
    <button type="button" class="toolbar-btn" (click)="toggleStyling()" [disabled]="loading$ | async" [title]="stylingVisible() ? 'Hide Styling' : 'Show Styling'">
      <span class="icon">ğŸ¨</span>
    </button>
  </div>

  <div class="toolbar-divider"></div>

  <div class="toolbar-section">
    <button type="button" class="toolbar-btn" (click)="toggleBackground()" [disabled]="loading$ | async" title="Toggle Background">
      <span class="icon">ğŸ–¼ï¸</span>
    </button>
    <button type="button" class="toolbar-btn success" (click)="savePositions(); $event.preventDefault(); $event.stopPropagation()" [disabled]="loading$ | async" title="Save Node Positions">
      <span class="icon">ğŸ’¾</span>
    </button>
    <button type="button" class="toolbar-btn" (click)="debugPositions()" [disabled]="loading$ | async" title="Debug - Show Current Positions" style="background: #ff9800;">
      <span class="icon">ğŸ›</span>
    </button>
    <button type="button" class="toolbar-btn warning" (click)="clearPositions()" [disabled]="loading$ | async" title="Clear Positions">
      <span class="icon">ğŸ—‘ï¸</span>
    </button>
  </div>

  <div class="toolbar-divider"></div>

  <div class="toolbar-section export-section">
    <div class="export-dropdown">
      <button type="button" class="toolbar-btn primary"
              (click)="toggleExportMenu()"
              [disabled]="loading$ | async"
              title="Export Diagram">
        <span class="icon">ğŸ“¥</span>
        <span class="label">Export</span>
        <span class="arrow">â–¼</span>
      </button>

      <div class="export-menu" *ngIf="showExportMenu">
        <button type="button" class="export-option" (click)="exportAsPNG()" [disabled]="loading$ | async">
          <span class="icon">ğŸ–¼ï¸</span>
          <span class="label">Export as PNG</span>
          <span class="description">High-quality raster image</span>
        </button>
        <button type="button" class="export-option" (click)="exportAsSVG()" [disabled]="loading$ | async">
          <span class="icon">ğŸ“</span>
          <span class="label">Export as SVG</span>
          <span class="description">Scalable vector graphics</span>
        </button>
        <button type="button" class="export-option" (click)="exportAsPDF()" [disabled]="loading$ | async">
          <span class="icon">ğŸ“„</span>
          <span class="label">Export as PDF</span>
          <span class="description">Portable document format</span>
        </button>
        <button type="button" class="export-option" (click)="exportAsJSON()" [disabled]="loading$ | async">
          <span class="icon">ğŸ“‹</span>
          <span class="label">Export as JSON</span>
          <span class="description">Graph data with positions</span>
        </button>
      </div>
    </div>
  </div>

  <div class="toolbar-spacer"></div>

  <div class="toolbar-section" *ngIf="loading$ | async">
    <div class="loading-indicator">
      <span class="spinner"></span>
      <span class="label">Processing...</span>
    </div>
  </div>
</div>
